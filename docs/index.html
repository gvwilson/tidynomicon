<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>The Tidynomicon</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="languages.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">The Tidynomicon</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="beginnings.html">Simple Things</a>
</li>
<li>
  <a href="tidyverse.html">The Tidyverse</a>
</li>
<li>
  <a href="cleanup.html">Cleaning Up Data</a>
</li>
<li>
  <a href="testing.html">Testing</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">The Tidynomicon</h1>

</div>


<div align="center">
<h1>
<em>The Tidynomicon</em>
</h1>
<h2>
<em>A Brief Introduction to R for Python Programmers</em>
</h2>
<img src="https://raw.githubusercontent.com/gvwilson/tidynomicon/master/files/cthulhu.png" width="400" />
<p>
<em>“Speak not to me of madness, you who count from zero.”</em>
</p>
</div>
<div id="audience" class="section level2">
<h2>Audience</h2>
<p><strong>Padma</strong>, 27, has been building performance dashboards for a logistics company using Django and D3. The company has just hired some data scientists who use R, and she would like to try building some dashboards in Shiny. She isn’t a statistical expert, but she’s comfortable doing linear regression and basic time series analysis on web traffic, and now wants to learn enough about R to tidy up the analysts’ code and make them shine.</p>
<p>Derived constraints:</p>
<ul>
<li>Learners understand loops, conditionals, writing and calling functions, lists, and dictionaries, can load and use libraries, can use classes and objects, but have never used generic functions and will need a refresher on higher-order functions.</li>
<li>Learners understand mean, variation, correlation, and other basic statistical concepts, but are not familiar with advanced machine learning tools.</li>
<li>Learners are comfortable creating and interpreting plots of various kinds.</li>
<li>Learners have experience with spreadsheets and with writing database queries that use filtering, aggregation, and joins, but have not designed database schemas.</li>
<li>Learners have built web applications and are familiar with version control systems and unit testing.</li>
<li>Learners currently use a text editor like Emacs or Sublime rather than an IDE.</li>
<li>Learners are willing to spend an hour on the basics of the language, both because they understand the utility and as a safety blanket, but will then be impatient to start tackling real tasks.</li>
</ul>
</div>
<div id="lessons" class="section level2">
<h2>Lessons</h2>
<p>Each of these lessons will take about an hour to go through in class.</p>
<ul>
<li><a href="./beginnings.html">Simple Things in Python and R</a></li>
<li><a href="./tidyverse.html">The Tidyverse</a></li>
<li><a href="./cleanup.html">Cleaning Up Data</a></li>
<li><a href="./testing.html">Testing</a></li>
</ul>
</div>
<div id="learners-questions" class="section level2">
<h2>Learners’ Questions</h2>
<ul>
<li>What are R’s basic data types and how do they compare to Python’s?</li>
<li>How do conditionals and loops work in R compared to Python?</li>
<li>How do indexing and attribute access work in R?</li>
<li>How do I create functions and libraries?</li>
<li>How do I find and install libraries and get help on them?</li>
<li>How do I process text with regular expressions?</li>
<li>How do I store and manipulate tabular data?</li>
<li>How do I load a tabular dataset and calculate simple statistics for each column?</li>
<li>How do I filter, aggregate, and join datasets?</li>
<li>How do I create plots?</li>
<li>How do I write readable programs in R?</li>
<li>How do I test R programs?</li>
<li>How do I create packages that other people can install?</li>
</ul>
</div>
<div id="exercises" class="section level2">
<h2>Exercises</h2>
<div id="warming-up" class="section level3">
<h3>Warming Up</h3>
<p>These exercises will familiarize you with some of the core features of R. Do all of the work interactively in RStudio until told to do otherwise.</p>
<ol style="list-style-type: decimal">
<li>Create a vector <code>small</code> containing the numbers 1 to 5.</li>
<li>Use it to create another vector <code>large</code> containing numbers ten times as large.</li>
<li>Use these two vectors to create a third vector <code>combined</code> with the sum of the two vectors.</li>
<li>Assign the average and standard deviation of <code>combined</code> to <code>combined_ave</code> and <code>combined_std</code>.</li>
<li>Create a vector <code>shifted</code> by subtracting the mean of <code>combined</code> from each value of <code>combined</code>.</li>
<li>Create a logical vector <code>mask</code> showing where values of <code>shifted</code> are within one standard deviation of zero.</li>
<li>Increase the magnitude of the values in <code>shifted</code> that are within one standard deviation of zero by 10%.</li>
<li>Write a function <code>fiddle</code> that takes a non-empty numeric vector as input and performs Steps 2-7 above.</li>
<li>Save your function in a file called <code>fiddle.R</code>.</li>
<li>Restart RStudio, load the saved function <code>fiddle</code>, and apply it to a vector containing the numbers 3 to 7.</li>
<li>Apply <code>fiddle</code> to an empty vector.</li>
<li>Modify the saved version of <code>fiddle</code> so that it returns <code>NULL</code> if its input is not a non-empty numeric vector.</li>
<li>Test your changes by giving <code>fiddle</code> a vector with the strings (“3”, “4”, “5”, “6”, “7”).</li>
</ol>
</div>
<div id="thats-odd" class="section level3">
<h3>That’s Odd</h3>
<p>This section explores some of the differences between the features of R and Python.</p>
<ol style="list-style-type: decimal">
<li>Explain the difference between <code>[...]</code> and <code>[[...]]</code> and give examples of situations in which they return different results.</li>
<li>Explain what a factor is, create factors, and loop over the names of the columns in a tibble.</li>
<li>Create a data structure holding the type of each column in a tibble. What data structure do you have to use to hold this information and why?</li>
<li>Explain what <code>matrix(rnorm(n * length(mu), mean = mu), ncol = n)</code> does and how it does it.</li>
</ol>
</div>
<div id="selecting-filtering-and-aggregating-data" class="section level3">
<h3>Selecting, Filtering, and Aggregating Data</h3>
<p>Read the CSV data set <code>solution/infant_hiv.csv</code> into a tibble. Use tidyverse functions to answer the following questions:</p>
<ol style="list-style-type: decimal">
<li>How many distinct countries are in the data?</li>
<li>Which countries reported an estimate for 2009?</li>
<li>Which countries reported an estimate for every year from 2009 to 2017?</li>
<li>What were the average estimates for 2014, 2015, and 2016?</li>
<li>How many countries didn’t report estimates for one or more years?</li>
<li>Which countries never reported a low figure less than 50%?</li>
<li>Which countries reported a low figure greater than or equal to the estimate, and in which year(s)?</li>
</ol>
</div>
<div id="tidying-data" class="section level3">
<h3>Tidying Data</h3>
<p>Look at the CSV file <code>raw/infant_hiv.csv</code> (which are taken from the Excel spreadsheet located in the same directory). Write an R script that tidies this data and store the results in <code>tidy/infant_hiv.csv</code>. Compare your result to the file used in previous exercises.</p>
</div>
<div id="using-rstudio" class="section level3">
<h3>Using RStudio</h3>
<p>Use RStudio’s data importer to read <code>raw/infant_hiv.csv</code>. Using both it and the interactive debugger, rebuild your previous import script from scratch.</p>
</div>
<div id="making-reusable-code" class="section level3">
<h3>Making Reusable Code</h3>
<p>Look at the three CSV files <code>maternal_health/raw/*.csv</code> (which are taken from the Excel spreadsheet located in the same directory). Using your solution to the previous exercise as a starting point, write some helper functions to help you tidy up CSV files that are formatted this way, and then use those functions in an R script that tidies these three files and stores the results in <code>maternal_health/tidy/*.csv</code>.</p>
</div>
<div id="combining-data" class="section level3">
<h3>Combining Data</h3>
<p>Using the tidied <code>maternal_health</code> data files from the previous exercise, create and save a single tidy data set that has fraction of birth at health facilities, fraction that have skilled attendants present, and fraction of Caesarean sections by country and year.</p>
</div>
<div id="plotting" class="section level3">
<h3>Plotting</h3>
<p>Using the combined data set created in the previous exercise, create a scatter plot showing the relationship in each country between the fraction of births at health facilities and the fraction that have skilled attendants present, coloring points according to the fraction of Caesarean sections.</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
